﻿<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Kho Ebike</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/site.css" />
</head>
@{
    var user = Context.Session.GetString("User");
    var role = Context.Session.GetString("Role");
}
<body>
    <div class="wrapper d-flex">
        <!-- Sidebar -->
    <nav class="sidebar p-3">
    <h4 class="text-center mb-4"><a href="/Home/Index" class="nav-link text-white d-flex justify-content-between align-items-center" >Ebike Admin</a></h4>
    <ul class="nav flex-column">
        @if (role == "Manager")
        {
            <li class="nav-item position-relative">
            <a href="/NCC/DanhSachNCC" class="nav-link text-white d-flex justify-content-between align-items-center" id="hanghoaMenu">
                Quản lý nhà cung cấp
                <span class="ms-2">▾</span>
            </a>
            <ul class="submenu list-unstyled ps-3">
                <li><a href="/NCC/Xuat" class="nav-link text-light small">• Lịch sử xuất của nhà cung cấp </a></li>
                <li><a href="/NCC/Nhap" class="nav-link text-light small">• Lịch sử nhập của nhà cung cấp</a></li>
            </ul>
        </li>


        <!-- HH -->
        <li class="nav-item position-relative">
            <a href="/HangHoa/DanhSach" class="nav-link text-white d-flex justify-content-between align-items-center" id="hanghoaMenu">
                Quản lý hàng hóa
                <span class="ms-2">▾</span>
            </a>
            <ul class="submenu list-unstyled ps-3">
                <li><a href="/HangHoa/QuanLyXe" class="nav-link text-light small">• Quản lý xe</a></li>
                <li><a href="/HangHoa/QuanLyLinhKien" class="nav-link text-light small">• Quản lý linh kiện</a></li>
            </ul>
        </li>

        <!-- KH -->
       <li class="nav-item position-relative">
    <a href="#" class="nav-link text-white d-flex justify-content-between align-items-center">
        Quản lý kho hàng
        <span class="ms-2">▾</span>
    </a>
    <!-- submenu cấp 1 -->
    <ul class="submenu list-unstyled ps-3">
        <li><a href="/KhoHang/ThongKeSaiLech" class="nav-link text-light small">• Thống kê sai lệch</a></li>

        <li class="nav-item position-relative">
            <a href="/KhoHang/ChuyenKho" class="nav-link text-white d-flex justify-content-between align-items-center">
                • Chuyển kho
                <span class="ms-2"></span>
            </a>
        </li>
    </ul>
        </li>

       <!-- GD -->
        <li class="nav-item position-relative">
            <a href="#" class="nav-link text-white d-flex justify-content-between align-items-center" id="hanghoaMenu">
                Quản lý giao dịch
                <span class="ms-2">▾</span>
            </a>
            <ul class="submenu list-unstyled ps-3">
                <li><a href="/Giaodich/DatHangNhap" class="nav-link text-light small">• Đặt Hàng Nhập</a></li>
                <li><a href="/GiaoDich/TraCuu" class="nav-link text-light small">• Tra Cứu Lịch Sử Giao Dịch</a></li>
            </ul>
        </li>

         <!-- BC -->
       <li class="nav-item position-relative">
    <a href="#" class="nav-link text-white d-flex justify-content-between align-items-center">
        Quản lý báo cáo
        <span class="ms-2">▾</span>
    </a>
    <!-- submenu cấp 1 -->
    <ul class="submenu list-unstyled ps-3">
        <li class="nav-item position-relative">
            <a href="/BaoCao/DanhSachBC" class="nav-link text-white d-flex justify-content-between align-items-center">
                • Danh Sách Báo Cáo
                <span class="ms-2">▾</span>
            </a>
            <!-- submenu cấp 2 -->
            <ul class="submenu list-unstyled ps-3">
                <li><a href="/BaoCao/BCNhap" class="nav-link text-light small">• Báo cáo nhập</a></li>
                 <li><a href="/BaoCao/BCXuat" class="nav-link text-light small">• Báo cáo xuất</a></li>
            </ul>
        </li>
    </ul>
  </li>
        <!-- GD -->
        <li class="nav-item position-relative">
            <a href="/NhanVien/NhanVien" class="nav-link text-white d-flex justify-content-between align-items-center" id="hanghoaMenu">
                Quản lý nhân viên
                <span class="ms-2">▾</span>
            </a>
            <ul class="submenu list-unstyled ps-3">
                <li><a href="/NhanVien/MoTaiKhoan" class="nav-link text-light small">• Mở tài khoản</a></li>
                <li><a href="/NhanVien/KhoaTaiKhoan" class="nav-link text-light small">• Khóa tài khoản</a></li>
            </ul>
        </li>
        }
        @if ( role == "Employee")
        {
            <!-- Menu Tạo báo cáo -->
    <li class="nav-item position-relative">
        <a href="#" class="nav-link text-white d-flex justify-content-between align-items-center">
            Tạo báo cáo
            <span class="ms-2">▾</span>
        </a>
        <ul class="submenu list-unstyled ps-3">
            <li><a href="@Url.Action("BaoCaoNhap","TaoBaoCao")" class="nav-link text-light small">• Báo cáo nhập</a></li>
            <li><a href="@Url.Action("BaoCaoXuat","TaoBaoCao")" class="nav-link text-light small">• Báo cáo xuất</a></li>
        </ul>
    </li>
    <!-- Menu Tạo phiếu -->
    <li class="nav-item position-relative">
        <a href="#" class="nav-link text-white d-flex justify-content-between align-items-center">
            Tạo phiếu
            <span class="ms-2">▾</span>
        </a>
        <ul class="submenu list-unstyled ps-3">
            <li><a href="@Url.Action("index","NhapHang")" class="nav-link text-light small">• Tạo phiếu nhập</a></li>
            <li><a href="@Url.Action("index","XuatHang")" class="nav-link text-light small">• Tạo phiếu xuất</a></li>
        </ul>
    </li>

    <!-- Menu Kiểm kho -->
    <li class="nav-item">
        <a href="@Url.Action("Index","KiemKho")" class="nav-link text-white">Kiểm kho</a>
    </li>
        }
    </ul>
</nav>
       <div class="sidebar-overlay" id="sidebar-overlay"></div>
        <!-- Main content -->
        <div class="content flex-grow-1">
            <!-- Header -->
           <header class="header shadow-sm d-flex justify-content-between align-items-center p-3">
    <div class="d-flex align-items-center">
        <!-- Nút hamburger: chỉ hiện khi màn hình nhỏ -->
        <button class="btn btn-outline-light me-3 d-lg-none" id="menu-toggle">
            <i class="bi bi-list fs-4 text-dark"></i>
        </button>

        <h5 class="mb-0">@ViewData["Title"]</h5>
    </div>

    <div>
        <span class="me-3">Xin chào, @user @(role == "Manager" ? "Quản lý" : "Nhân viên")</span>
        <form asp-controller="Account" asp-action="Logout" method="post" style="display:inline;">
            <button type="submit" class="btn btn-outline-danger btn-sm">Đăng xuất</button>
        </form>
    </div>
</header>

            <!-- Main body -->
            <main class="p-4">
                @RenderBody()
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    const menuToggle = document.getElementById("menu-toggle");
    const sidebar = document.querySelector(".sidebar");
    const overlay = document.getElementById("sidebar-overlay");
    const body = document.body;

    // Khi nhấn nút hamburger
    menuToggle.addEventListener("click", () => {
        sidebar.classList.toggle("active");
        overlay.classList.toggle("active");
        body.classList.toggle("menu-open-main");
    });

    // Khi nhấn vào overlay thì đóng menu
    overlay.addEventListener("click", () => {
        sidebar.classList.remove("active");
        overlay.classList.remove("active");
        body.classList.remove("menu-open-main");
    });
</script>

    @RenderSection("Scripts", required: false)
</body>
</html>