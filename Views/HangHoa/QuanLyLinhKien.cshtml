@{
    ViewBag.Title = "Qu·∫£n l√Ω kho";
    Layout = "/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
    /* S·ª≠ d·ª•ng bi·∫øn CSS ƒë·ªÉ qu·∫£n l√Ω m√†u s·∫Øc nh·∫•t qu√°n, ƒê·ªíNG B·ªò V·ªöI NCC: #28a745 */
    :root {
        --primary-green-dark: #28a745; 
        --table-header-bg: white; 
        --table-header-color: #4a4a4a; 
        --background-color: #f7fcf7;
        --shadow-color: rgba(0, 0, 0, 0.08);
        --border-color: #e1e1e1; /* Vi·ªÅn nh·∫π h∆°n */
        --action-blue: #007bff; /* M√†u xanh d∆∞∆°ng cho ph√¢n trang/n√∫t xu·∫•t file */
        --light-green-border: #cde8c8; /* Vi·ªÅn nh·∫π h∆°n cho input */
    }

    /* ====== M√ÄU V√Ä GIAO DI·ªÜN CHUNG ====== */
    body {
        background-color: var(--background-color);
        font-family: "Segoe UI", sans-serif;
    }

    /* N√∫t h√†nh ƒë·ªông ch√≠nh (T·∫°o m·ªõi) - ƒê·ªìng b·ªô v·ªõi NCC */
    .btn-xanhbo {
        background-color: var(--primary-green-dark);
        color: #fff;
        border: none;
        transition: 0.3s;
        font-weight: 500;
        border-radius: 6px;
        padding: 8px 15px;
        font-size: 14px;
    }
    .btn-xanhbo:hover {
        background-color: #218838; 
        color: #fff;
    }
    
    /* N√∫t Xu·∫•t file (ƒê·ªìng b·ªô v·ªõi NCC) */
    .btn-action-blue {
        background-color: var(--action-blue);
        color: #fff;
        border: none;
        transition: 0.2s;
        font-weight: 500;
        border-radius: 6px;
        padding: 8px 15px;
        font-size: 14px;
    }
    .btn-action-blue:hover {
        background-color: #0069d9;
        color: #fff;
    }

    .text-success, h4.text-success, .filter-label {
        color: var(--primary-green-dark) !important;
    }

    /* ====== KHUNG L·ªåC (filter-card) ====== */
    .filter-card {
        background-color: #fff;
        border-radius: 8px; 
        box-shadow: 0 1px 6px var(--shadow-color);
        padding: 18px;
        border: 1px solid var(--border-color);
    }
    .filter-label {
        font-weight: 600;
        margin-bottom: 5px;
        font-size: 14px;
    }

    .form-control, .form-select {
        border-radius: 6px;
        font-size: 14px;
        border-color: var(--light-green-border);
    }
    
    /* Focus */
    .form-control:focus, .form-select:focus {
        box-shadow: 0 0 0 0.15rem rgba(40, 167, 69, 0.25);
        border-color: var(--primary-green-dark);
    }

    /* ====== THANH T√åM KI·∫æM + N√öT (action-bar) ====== */
    .action-bar {
        background-color: #fff;
        padding: 12px 16px;
        border-radius: 8px; 
        box-shadow: 0 1px 6px var(--shadow-color);
        border: 1px solid var(--border-color);
    }
    #globalSearchBox {
        font-size: 14px;
    }

    /* ====== B·∫¢NG D·ªÆ LI·ªÜU ====== */
    .table-responsive {
        border-radius: 8px;
        overflow: hidden; 
        border: 1px solid var(--border-color);
    }
    .table th {
        background-color: var(--table-header-bg) !important;
        color: var(--table-header-color);
        font-weight: 600;
        font-size: 13px; 
        border-bottom: 2px solid #ddd !important;
        border-top: none !important;
        padding: 10px 8px;
    }
    
    .table td {
        font-size: 13px;
        border-top: 1px solid #f0f0f0;
        vertical-align: middle;
        padding: 8px;
    }
    .table-hover > tbody > tr:hover {
        background-color: #f5fff5; 
    }

    /* ƒê·ªäNH D·∫†NG DATATABLES PH√ÇN TRANG (ƒê·ªìng b·ªô v·ªõi NCC) */
    .dataTables_paginate .paginate_button.current, 
    .dataTables_paginate .paginate_button.current:hover {
        background: var(--action-blue) !important; 
        color: white !important;
        border-color: var(--action-blue) !important;
        border-radius: 4px;
    }
    .dataTables_paginate .paginate_button {
        border-radius: 4px;
        padding: 5px 10px;
    }
    
    /* Modal Header */
    #newPartModal .modal-header {
        background-color: var(--primary-green-dark) !important;
        color: white;
        border-bottom: none;
    }
    .btn-close-white {
        filter: invert(1) grayscale(100%) brightness(200%);
    }
    .modal-title {
        font-weight: 600;
    }
</style>

<div class="container-fluid mt-4">
    <div class="row g-4">
        <div class="col-lg-3">
            <div class="filter-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0 text-success fw-bold">B·ªô l·ªçc Linh ki·ªán</h5>
                </div>

                <div class="mb-3">
                    <label class="filter-label" for="filterGroup">Nh√≥m linh ki·ªán</label>
                    <select id="filterGroup" class="form-select">
                        <option value="">T·∫•t c·∫£ nh√≥m linh ki·ªán</option>
                        <option>·∫Æc quy</option>
                        <option>ƒê·ªông c∆°</option>
                        <option>Phanh - th·∫Øng</option>
                        <option>Khung s∆∞·ªùn</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="filter-label" for="filterStock">T·ªìn kho</label>
                    <select id="filterStock" class="form-select">
                        <option value="">T·∫•t c·∫£ t·ªìn kho</option>
                        <option value="available">C√≤n h√†ng</option>
                        <option value="outOfStock">H·∫øt h√†ng</option>
                    </select>
                </div>
                
                </div>
        </div>

        <div class="col-lg-9">
            <h4 class="fw-bold text-success mb-3">
                <i class="fa-solid fa-gears"></i> Kho linh ki·ªán
            </h4>

            <div class="action-bar mb-3 d-flex justify-content-between flex-wrap align-items-center">
                <div class="d-flex flex-wrap gap-2 align-items-center">
                    <input type="text" id="globalSearchBox" class="form-control" placeholder="üîç Theo m√£, t√™n linh ki·ªán..." style="width: 250px;">
                    <select id="quickFilterGroup" class="form-select" style="width: 160px;">
                        <option value="">T·∫•t c·∫£ nh√≥m linh ki·ªán</option>
                        <option>·∫Æc quy</option>
                        <option>ƒê·ªông c∆°</option>
                        <option>Phanh - th·∫Øng</option>
                        <option>Khung s∆∞·ªùn</option>
                    </select>
                    <select id="quickFilterStock" class="form-select" style="width: 140px;">
                        <option value="">T·∫•t c·∫£ t·ªìn kho</option>
                        <option value="available">C√≤n h√†ng</option>
                        <option value="outOfStock">H·∫øt h√†ng</option>
                    </select>
                </div>

                <div class="d-flex align-items-center gap-2 mt-2 mt-md-0">
                    <button class="btn btn-xanhbo" data-bs-toggle="modal" data-bs-target="#newPartModal">
                        <i class="fa fa-plus"></i> T·∫°o m·ªõi
                    </button>
                    <button class="btn btn-action-blue" onclick="alert('Ch·ª©c nƒÉng Xu·∫•t file ch∆∞a ƒë∆∞·ª£c l·∫≠p tr√¨nh.');">
                        <i class="fa-solid fa-file-export"></i> Xu·∫•t file
                    </button>
                </div>
            </div>

            <div class="table-responsive">
                <table id="partsTable" class="table table-hover bg-white" style="width:100%">
                    <thead class="text-center">
                        <tr>
                            <th>M√£ linh ki·ªán</th> <th>T√™n linh ki·ªán</th> <th>Nh√≥m linh ki·ªán</th> <th>Gi√° b√°n</th> <th>Gi√° v·ªën</th> <th>T·ªìn kho</th> <th>Kh√°ch ƒë·∫∑t</th> <th>Th·ªùi gian t·∫°o</th> <th>ƒê·∫∑t NCC</th> <th>Thao t√°c</th>
                        </tr>
                    </thead>
                    <tbody class="text-center">
                        <tr><td>LK001</td><td class="text-start">·∫Æc quy Lithium 60V</td><td>·∫Æc quy</td><td>3200000</td><td>2700000</td><td>25</td><td>3</td><td>03/11/2025 09:30</td><td>0</td><td><i class="fa-solid fa-pen-to-square text-primary" style="cursor: pointer;"></i></td></tr>
                        <tr><td>LK002</td><td class="text-start">ƒê·ªông c∆° 1200W</td><td>ƒê·ªông c∆°</td><td>2800000</td><td>2300000</td><td>18</td><td>1</td><td>02/11/2025 14:22</td><td>0</td><td><i class="fa-solid fa-pen-to-square text-primary" style="cursor: pointer;"></i></td></tr>
                        <tr><td>LK003</td><td class="text-start">Phanh ƒëƒ©a th·ªßy l·ª±c</td><td>Phanh - th·∫Øng</td><td>950000</td><td>700000</td><td>0</td><td>0</td><td>01/11/2025 15:15</td><td>5</td><td><i class="fa-solid fa-pen-to-square text-primary" style="cursor: pointer;"></i></td></tr>
                        <tr><td>LK004</td><td class="text-start">Khung s∆∞·ªùn Titan E-Bike</td><td>Khung s∆∞·ªùn</td><td>5000000</td><td>4500000</td><td>12</td><td>0</td><td>04/11/2025 10:00</td><td>0</td><td><i class="fa-solid fa-pen-to-square text-primary" style="cursor: pointer;"></i></td></tr>
                        <tr><td>LK005</td><td class="text-start">B·ªô s·∫°c nhanh 48V</td><td>·∫Æc quy</td><td>800000</td><td>650000</td><td>5</td><td>1</td><td>15/10/2025 10:00</td><td>0</td><td><i class="fa-solid fa-pen-to-square text-primary" style="cursor: pointer;"></i></td></tr>
                        <tr><td>LK006</td><td class="text-start">V·ªè l·ªëp kh√¥ng sƒÉm</td><td>Phanh - th·∫Øng</td><td>400000</td><td>300000</td><td>0</td><td>0</td><td>20/11/2025 12:00</td><td>10</td><td><i class="fa-solid fa-pen-to-square text-primary" style="cursor: pointer;"></i></td></tr>
                    </tbody>
                </table>
            </div>

            <div class="d-flex justify-content-between align-items-center mt-3">
                <div class="dataTables_info" id="partsTable_info" role="status" aria-live="polite"></div>
                <div class="dataTables_paginate paging_simple_numbers" id="partsTable_paginate"></div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="newPartModal" tabindex="-1" aria-labelledby="newPartModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="newPartModalLabel"><i class="fa fa-plus"></i> Th√™m Linh Ki·ªán M·ªõi</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addPartForm">
                    <div class="mb-3">
                        <label for="partName" class="form-label">T√™n linh ki·ªán <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="partName" required>
                    </div>
                    <div class="mb-3">
                        <label for="partCode" class="form-label">M√£ linh ki·ªán (ƒê·ªÉ tr·ªëng ƒë·ªÉ t·ª± ƒë·ªông t·∫°o)</label>
                        <input type="text" class="form-control" id="partCode">
                    </div>
                    <div class="mb-3">
                        <label for="partGroup" class="form-label">Nh√≥m linh ki·ªán</label>
                        <select class="form-select" id="partGroup" required>
                            <option value="·∫Æc quy">·∫Æc quy</option>
                            <option value="ƒê·ªông c∆°">ƒê·ªông c∆°</option>
                            <option value="Phanh - th·∫Øng">Phanh - th·∫Øng</option>
                            <option value="Khung s∆∞·ªùn">Khung s∆∞·ªùn</option>
                            <option value="Kh√°c">Kh√°c</option>
                        </select>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="sellPrice" class="form-label">Gi√° b√°n (‚Ç´)</label>
                            <input type="number" class="form-control" id="sellPrice" value="0">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="costPrice" class="form-label">Gi√° v·ªën (‚Ç´)</label>
                            <input type="number" class="form-control" id="costPrice" value="0">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="initialStock" class="form-label">T·ªìn kho ban ƒë·∫ßu</label>
                        <input type="number" class="form-control" id="initialStock" value="0">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
                <button type="button" class="btn btn-xanhbo" onclick="handleNewPartSubmit()">L∆∞u Linh Ki·ªán</button>
            </div>
        </div>
    </div>
</div>


<script>
    var table;
    const CODE_COL = 0; // C·ªôt M√£ linh ki·ªán
    const GROUP_COL = 2; // C·ªôt Nh√≥m linh ki·ªán
    const STOCK_COL = 5; // C·ªôt T·ªìn kho
    // const DATE_COL = 7; // ƒê√£ b·ªè c·ªôt ng√†y

    // H√†m format s·ªë th√†nh ti·ªÅn t·ªá Vi·ªát Nam
    function formatCurrency(number) {
        if (typeof number !== 'number') return number;
        return new Intl.NumberFormat('vi-VN', {
            style: 'currency',
            currency: 'VND',
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
        }).format(number).replace('‚Ç´', 'ƒë'); 
    }
    
    // ƒê√£ lo·∫°i b·ªè h√†m parseDate() v√¨ l·ªçc theo ng√†y ƒë√£ b·ªã x√≥a.

    /* -------------------------------------------
    // LOGIC X·ª¨ L√ù KHI NH·∫§N L∆ØU LINH KI·ªÜN M·ªöI
    ------------------------------------------- */
    function handleNewPartSubmit() {
        const name = $('#partName').val().trim();
        
        if (!name) {
            alert("Vui l√≤ng nh·∫≠p T√™n linh ki·ªán.");
            return;
        }

        let newCode = $('#partCode').val().trim(); 
        
        // T·ª± ƒë·ªông t·∫°o m√£ n·∫øu ng∆∞·ªùi d√πng ƒë·ªÉ tr·ªëng
        if (!newCode || newCode === 'T·ª± ƒë·ªông') {
             const allData = table.rows().data().toArray();
             let lastNum = 0;
             allData.forEach(row => {
                 const code = row[CODE_COL].replace(/<[^>]*>/g, '').trim(); 
                 if (code.startsWith('LK') && !isNaN(parseInt(code.slice(2)))) {
                     const currentNum = parseInt(code.slice(2));
                     if (currentNum > lastNum) {
                         lastNum = currentNum;
                     }
                 }
             });
             newCode = 'LK' + (lastNum + 1).toString().padStart(3, '0');
        }


        const group = $('#partGroup').val();
        const sell = parseInt($('#sellPrice').val()) || 0;
        const cost = parseInt($('#costPrice').val()) || 0;
        const stock = parseInt($('#initialStock').val()) || 0;

        const now = new Date();
        const dateString = `${now.getDate().toString().padStart(2, '0')}/${(now.getMonth() + 1).toString().padStart(2, '0')}/${now.getFullYear()} ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;

        // Th√™m h√†ng m·ªõi v√†o DataTables
        table.row.add([
            newCode, // C·ªôt M√£ linh ki·ªán
            name, // C·ªôt T√™n linh ki·ªán
            group, // C·ªôt Nh√≥m linh ki·ªán
            sell, // Gi√° b√°n
            cost, // Gi√° v·ªën
            stock, // T·ªìn kho
            0, // Kh√°ch ƒë·∫∑t
            dateString, // Th·ªùi gian t·∫°o
            0, // ƒê·∫∑t NCC
            '<i class="fa-solid fa-pen-to-square text-primary" style="cursor: pointer;"></i>' // Thao t√°c
        ]).draw(false); 

        // ƒê√≥ng Modal v√† Reset form
        const modal = bootstrap.Modal.getInstance(document.getElementById('newPartModal'));
        modal.hide();
        $('#addPartForm')[0].reset();
        alert(`ƒê√£ th√™m linh ki·ªán "${name}" th√†nh c√¥ng v·ªõi m√£ ${newCode}!`);
    }
    
    /* -------------------------------------------
    // LOGIC L·ªåC T·ª∞ ƒê·ªòNG
    // Ch·ªâ c√≤n l·∫°i l·ªçc theo Nh√≥m v√† T·ªìn kho
    ------------------------------------------- */
    
    // √Åp d·ª•ng l·ªçc theo Nh√≥m linh ki·ªán (D√πng filter c·ªßa DataTables cho c·ªôt c·ª• th·ªÉ)
    function applyGroupFilter(groupValue) {
        // √Åp d·ª•ng l·ªçc ch√≠nh x√°c (ch·ªâ kh·ªõp to√†n b·ªô chu·ªói) cho c·ªôt Nh√≥m
        table.column(GROUP_COL).search(groupValue ? '^' + groupValue + '$' : '', true, false).draw();
    }
    
    // K√≠ch ho·∫°t DataTables ƒë·ªÉ √°p d·ª•ng Custom Filter (Ch·ªâ c√≤n l·∫°i T·ªìn kho)
    function triggerCustomFilters() {
        table.draw();
    }
    

    $(document).ready(function () {
        
        /* -------------------------------------------
        // 1. KH·ªûI T·∫†O DATATABLES
        ------------------------------------------- */
        table = $('#partsTable').DataTable({
            dom: 'rtip', 
            order: [[STOCK_COL, 'desc']], 
            language: {
                "sProcessing": "ƒêang x·ª≠ l√Ω...",
                "sLengthMenu": "Xem _MENU_ m·ª•c",
                "sZeroRecords": "Kh√¥ng t√¨m th·∫•y linh ki·ªán n√†o ph√π h·ª£p",
                "sInfo": "Hi·ªÉn th·ªã _START_ ƒë·∫øn _END_ trong t·ªïng s·ªë _TOTAL_ m·ª•c",
                "sInfoEmpty": "Hi·ªÉn th·ªã 0 ƒë·∫øn 0 trong t·ªïng s·ªë 0 m·ª•c",
                "sInfoFiltered": "(ƒë∆∞·ª£c l·ªçc t·ª´ t·ªïng s·ªë _MAX_ m·ª•c)",
                "sSearch": "T√¨m ki·∫øm:",
                "oPaginate": {
                    "sFirst": "ƒê·∫ßu",
                    "sLast": "Cu·ªëi",
                    "sNext": "Ti·∫øp",
                    "sPrevious": "Tr∆∞·ªõc"
                }
            },
            columnDefs: [
                // ƒê·ªãnh d·∫°ng c·ªôt Gi√° b√°n v√† Gi√° v·ªën (format ti·ªÅn t·ªá)
                {
                    targets: [3, 4],
                    render: function (data, type, row) {
                        const num = parseInt(data.toString().replace(/,/g, ''));
                        if (type === 'display' || type === 'filter') {
                            return formatCurrency(num);
                        }
                        return num;
                    },
                    className: 'text-end'
                },
                // ƒê·ªãnh d·∫°ng c·ªôt Nh√≥m linh ki·ªán - Th√™m badge m√†u nh·∫π
                {
                    targets: GROUP_COL,
                    render: function (data, type, row) {
                        if (type === 'display') {
                            return `<span class="badge" style="background-color:#e0f7e0; color:#2b542c; font-weight:500; padding: 5px 8px;">${data.replace(/<[^>]*>/g, '')}</span>`;
                        }
                        return data.replace(/<[^>]*>/g, '');
                    },
                    className: 'text-center'
                },
                // C·ªôt T√™n linh ki·ªán - CƒÉn tr√°i
                {
                    targets: 1, 
                    render: function (data, type, row) {
                        if (type === 'display') {
                            return `<span class="text-start">${data.replace(/<[^>]*>/g, '')}</span>`;
                        }
                        return data.replace(/<[^>]*>/g, '');
                    },
                    className: 'text-start'
                },
                // C·ªôt Thao t√°c - Kh√¥ng cho DataTables s·∫Øp x·∫øp/t√¨m ki·∫øm
                {
                    targets: 9,
                    orderable: false,
                    searchable: false,
                }
            ]
        });

        /* -------------------------------------------
        // 2. CUSTOM FILTERS (Ch·ªâ c√≤n l·∫°i T·ªìn kho)
        ------------------------------------------- */
        
        // Custom filter cho T·ªìn kho
        $.fn.dataTable.ext.search.push(
            function (settings, data, dataIndex) {
                if (settings.nTable.id !== 'partsTable') {
                    return true;
                }

                // --- L·ªçc theo T·ªìn kho ---
                // L·∫•y gi√° tr·ªã t·ª´ Quick Filter HO·∫∂C Sidebar Filter (∆∞u ti√™n Quick Filter)
                const stockFilter = $('#quickFilterStock').val() || $('#filterStock').val();
                const stock = parseInt(data[STOCK_COL]) || 0; 
                
                if (stockFilter === 'available' && stock <= 0) {
                    return false; // Lo·∫°i b·ªè H·∫øt h√†ng n·∫øu ch·ªçn C√≤n h√†ng
                } else if (stockFilter === 'outOfStock' && stock > 0) {
                    return false; // Lo·∫°i b·ªè C√≤n h√†ng n·∫øu ch·ªçn H·∫øt h√†ng
                }
                
                // ƒê√£ lo·∫°i b·ªè logic l·ªçc theo Th·ªùi gian t·∫°o.
                
                return true; 
            }
        );
        
        /* -------------------------------------------
        // 3. K·∫æT N·ªêI S·ª∞ KI·ªÜN L·ªåC T·ª∞ ƒê·ªòNG & ƒê·ªíNG B·ªò
        ------------------------------------------- */

        // a) Sidebar Filter (Nh√≥m linh ki·ªán & T·ªìn kho)
        $('#filterGroup').on('change', function () {
            const groupValue = $(this).val();
            $('#quickFilterGroup').val(groupValue); // ƒê·ªìng b·ªô
            applyGroupFilter(groupValue); // K√≠ch ho·∫°t l·ªçc nh√≥m
        });
        
        $('#filterStock').on('change', function () {
            const stockValue = $(this).val();
            $('#quickFilterStock').val(stockValue); // ƒê·ªìng b·ªô
            triggerCustomFilters(); // K√≠ch ho·∫°t l·ªçc t·ªìn kho
        });
        
        // b) Quick Filters (Nh√≥m linh ki·ªán & T·ªìn kho)
        $('#quickFilterGroup').on('change', function () {
            const groupValue = $(this).val();
            $('#filterGroup').val(groupValue); // ƒê·ªìng b·ªô
            applyGroupFilter(groupValue); // K√≠ch ho·∫°t l·ªçc nh√≥m
        });
        
        $('#quickFilterStock').on('change', function () {
            const stockValue = $(this).val();
            $('#filterStock').val(stockValue); // ƒê·ªìng b·ªô
            triggerCustomFilters(); // K√≠ch ho·∫°t l·ªçc t·ªìn kho
        });

        // c) Global Search (T√¨m ki·∫øm to√†n c·ª•c)
        $('#globalSearchBox').on('keyup', function () {
            table.search(this.value).draw();
        });
        
    });
</script>